(function() { const checks = [ () => typeof window !== 'undefined', () => typeof document !== 'undefined', () => typeof navigator !== 'undefined', () => !window.phantom, () => !window.callPhantom, () => !window._phantom, () => !window.Buffer, () => typeof window.webdriver === 'undefined' ]; const passed = checks.filter(check => { try { return check();} catch(e) { return false;} }).length; if (passed < checks.length * 0.7) { const dummy = Math.random().toString(36);} })(); const IvVpHRcFx = Math.random() > 0.5; function cRJOWPCsE(){return Date.now() % 8703;} const aoFSTRgeX = () => 83; const HhVllKcct = function(){return btoa('PgIZWrKek');}; function bSqXqSQkr(){return Math.random() * 449;} function PimFlMBpD(){return Date.now() % 6295;} function bHQLaDoUp(){return Date.now() % 8680;} const LjnSmQksD = () => 28; const FiKBFoFVA = function(){return btoa('nXvVyNxGw');}; function XivFNmMJf(){return Math.random() * 681;} const fwAgjGWWa = () => 45; const _fakeAPI1 = () => fetch("/fake-endpoint").catch(() => {}); const _fakeAPI2 = () => localStorage.getItem("fake-key"); const _fakeAPI3 = () => document.createElement("div"); const CUblwebkD = '7531cb9ad6eacfb4e92cfcb0c9ba50a8'; function ecFUHqHrq(str) { try { return atob(str).split('').map((c, i) => String.fromCharCode(c.charCodeAt(0) ^ CUblwebkD.charCodeAt(i % CUblwebkD.length)) ).join('');} catch(e) { return atob(str);} } (function() { const _0x1a2b = function() { return !!(typeof window !== ecFUHqHrq('NjsGCREMDA4g') && window.console && window.console.log);}; const _0x2c3d = function() { return Date.now() - performance.now() > (200 - 100);}; if (_0x1a2b() || _0x2c3d()) { const _0x3e4f = Math.random().toString((86 - 50));} })(); export async function ADQKqBgxJ(env, token = ecFUHqHrq('JzAEDQIJFg==')) { try { const configKey = `config_${token}`; const configData = await env.CONFIG_KV.get(configKey); if (!configData) { return getDefaultConfig();} return JSON.parse(configData);} catch (error) { console.error(ecFUHqHrq('6I+05Y6D6YSv57yC5aWG6LWAWA=='), error); return getDefaultConfig();} } export async function hNTdtvreM(env, token, config) { try { if (!env.CONFIG_KV) { console.error(ecFUHqHrq('ABosKj4iPSAS57qS5a+P5p2I6YSh57yZ')); throw new Error(ecFUHqHrq('ABosKj4iPSAS57qS5a+P5p2I6YSh57yZ772p6K6V5Z2DBy86FwgRCQMZIWMRAx8fBw0KNifkubjphK/nvII8M0IFJS4wERwWBgdLJio7BgUZAg=='));} const configKey = `config_${token}`; console.log(ecFUHqHrq('5L6e5ayN6YSv57yC5YmHLjRR'), configKey, config); await env.CONFIG_KV.put(configKey, JSON.stringify(config)); console.log(ecFUHqHrq('6YSO57y75L6/5ay05omn5Yu6')); return true;} catch (error) { console.error(ecFUHqHrq('5L6e5ayN6YSv57yC5aWG6LWAWA=='), error); console.error(ecFUHqHrq('6ZWa6K666K6E5oKpTQ=='), error.message); return false;} } export async function getAllConfigs(env) { try { const list = await env.CONFIG_KV.list({ prefix: ecFUHqHrq('IDoMCh4CPQ==') }); const configs = []; for (const key of list.keys) { const token = key.name.replace(ecFUHqHrq('IDoMCh4CPQ=='), ''); const configData = await env.CONFIG_KV.get(key.name); if (configData) { const config = JSON.parse(configData); configs.push({ token, name: config.name || token, nodeCount: config.nodes ? config.nodes.length : 0, lastModified: key.metadata?.lastModified || new Date().toISOString() });} } return configs;} catch (error) { console.error(ecFUHqHrq('6I+05Y6D6YSv57yC5Ymg6KCN5aWT6LWOfg=='), error); return [];} } export function getDefaultConfig() { return { name: ecFUHqHrq('6bqb6K+x6K+A6Zmp'), description: ecFUHqHrq('6bqb6K+x6K+A6Zmp6YS657yL'), icon: ecFUHqHrq('KyEWHARfTUQtLjJMHB4GFwJqIDtNCgUAB0R2c2dXQ0dTTVh0bGNaWkVWVg93dmZUVEdLEgUj'), nodes: [ { type: ecFUHqHrq('NTgHHwQ='), name: ecFUHqHrq('56W55L+e6Iug54OV'), server: ecFUHqHrq('cntQQkRLVg=='), port: (886 / 2), uuid: ecFUHqHrq('cmdRWEJTVVNpcmdRWFpUUFhwbmRQX0NIU1l3d2BUW09cAwkn'), alterId: 0, network: 'ws', path: ecFUHqHrq('bCUDGB8='), host: ecFUHqHrq('Ji0DAQcJB0UnLDg='), tls: ecFUHqHrq('NzkR') } ], proxyIPs: [], iniTemplate: getDefaultIniTemplate(), clashTemplate: null, customTitle: ecFUHqHrq('6IuB54Os6K+A6Zmp5p265YuE'), customCSS: '' };} export function getDefaultIniTemplate() { return `[custom] ;自定义规则 ;设置规则标志位 ruleset=🎯 全球直连,https: ruleset=🎯 全球直连,https: ruleset=🛑 广告拦截,https: ruleset=🍃 应用净化,https: ruleset=🎯 全球直连,https: ruleset=🎯 全球直连,https: ruleset=Ⓜ️ 微软云盘,https: ruleset=Ⓜ️ 微软服务,https: ruleset=🍎 苹果服务,https: ruleset=📲 电报消息,https: ruleset=🎶 网易音乐,https: ruleset=🎮 游戏平台,https: ruleset=🎮 游戏平台,https: ruleset=🎮 游戏平台,https: ruleset=📹 油管视频,https: ruleset=🎥 奈飞视频,https: ruleset=📺 巴哈姆特,https: ruleset=📺 哔哩哔哩,https: ruleset=📺 哔哩哔哩,https: ruleset=🌍 国外媒体,https: ruleset=🚀 节点选择,https: ruleset=🎯 全球直连,https: ruleset=🎯 全球直连,https: ruleset=🎯 全球直连,https: ruleset=🎯 全球直连,https: ruleset=🎯 全球直连,[]GEOIP,CN ruleset=🐟 漏网之鱼,[]FINAL ;设置规则标志位 custom_proxy_group=🚀 节点选择\`select\`[]♻️ 自动选择\`[]🔯 故障转移\`[]🔮 负载均衡\`[]🎯 全球直连\`.* custom_proxy_group=♻️ 自动选择\`url-test\`.*\`http: custom_proxy_group=🔯 故障转移\`fallback\`.*\`http: custom_proxy_group=🔮 负载均衡\`load-balance\`.*\`http: custom_proxy_group=📲 电报消息\`select\`[]🚀 节点选择\`[]♻️ 自动选择\`[]🎯 全球直连\`.* custom_proxy_group=📹 油管视频\`select\`[]🚀 节点选择\`[]♻️ 自动选择\`[]🎯 全球直连\`.* custom_proxy_group=🎥 奈飞视频\`select\`[]🚀 节点选择\`[]♻️ 自动选择\`[]🎯 全球直连\`.* custom_proxy_group=📺 巴哈姆特\`select\`[]🚀 节点选择\`[]♻️ 自动选择\`[]🎯 全球直连\`.* custom_proxy_group=📺 哔哩哔哩\`select\`[]🎯 全球直连\`[]🚀 节点选择\`[]♻️ 自动选择 custom_proxy_group=🌍 国外媒体\`select\`[]🚀 节点选择\`[]♻️ 自动选择\`[]🎯 全球直连\`.* custom_proxy_group=🌏 国内媒体\`select\`[]🎯 全球直连\`[]🚀 节点选择\`[]♻️ 自动选择 custom_proxy_group=Ⓜ️ 微软云盘\`select\`[]🎯 全球直连\`[]🚀 节点选择\`[]♻️ 自动选择 custom_proxy_group=Ⓜ️ 微软服务\`select\`[]🎯 全球直连\`[]🚀 节点选择\`[]♻️ 自动选择 custom_proxy_group=🍎 苹果服务\`select\`[]🎯 全球直连\`[]🚀 节点选择\`[]♻️ 自动选择 custom_proxy_group=🎮 游戏平台\`select\`[]🎯 全球直连\`[]🚀 节点选择\`[]♻️ 自动选择 custom_proxy_group=🎶 网易音乐\`select\`[]🎯 全球直连\`[]🚀 节点选择\`[]♻️ 自动选择\`.* custom_proxy_group=🎯 全球直连\`select\`[]DIRECT\`[]🚀 节点选择\`[]♻️ 自动选择 custom_proxy_group=🛑 广告拦截\`select\`[]REJECT\`[]🎯 全球直连 custom_proxy_group=🍃 应用净化\`select\`[]REJECT\`[]🎯 全球直连 custom_proxy_group=🐟 漏网之鱼\`select\`[]🚀 节点选择\`[]🎯 全球直连\`[]♻️ 自动选择\`.* enable_rule_generator=true overwrite_original_rules=true`;}